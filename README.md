# COMP2110/6110 Starter Kit - Citizen Science Web Application
# James Flood - Student Number: 43823912

This is the starter kit for the 2020 Web Application assignment. It contains a 
Python based web server that provides a JSON API to the data required for
the application.  You can run the Python server with the command:

```
python main.py
``` 
This requires Python 3 and the bottle library, I've included bottle with this project
so you should not need to download anything other than Python 3. 

The server will listen for requests on [http://localhost:8010](http://localhost:8010/). 

The main page of the application is generated by the Python code from the file `index.html` 
in the `views` folder.  You can edit this file to add anything you need to implement
your application.  If you rename the file, the server won't know where to find it, so don't.

Static files are served from the `static` folder.  You will see sub-folders for CSS, Javascript
and images.   If you want to refer to one of these files in your HTML, use a URL 
like `/static/js/main.js` or `/static/css/style.css`.  The leading `/` is important.  You can
add any other sub-folders you might want under the `static` folder and it will be served
by the application.

I have provided a few Javascript files in the project:
* `main.js` is the main entry point and is referenced from the `index.html` file
* `model.js` contains the outline of the Model object and the required methods that you must implement
* `util.js` provides a utility function
* `views.js` is empty for you to add your view functions to

The `cypress` directory contains tests to be run with the [Cypress](https://cypress.io) testing tool.


## The API Server

The Python API server provides the following URLs serving JSON data:

* `/api/users` - GET returns a JSON array of user details
* `/api/users/<id>` - GET returns details of an individual user
* `/api/observations` - GET returns a JSON array of observation records
* `/api/observations` - POST adds a new observation record (required fields below)
* `/api/observations/<id>` - GET returns details of an individual observation
* `/api/reset` - GET request resets the database (for testing purposes)

## How It Works

The code structure I have provided uses the model, view, and controller/main architecture.
model.js contains functions that manipulate the data and is independent of the UI. It manages the API.
main.js is where the program executes, and handles the window object when the page is first
loaded and when the hash is changed. controller.js receives input from the user and passes 
it to model.js. It also takes the data from model.js and passes it to views.js to be rendered 
with a template handler.  

When a user clicks on a link, a new template is inserted into the same page. The route handlers
do this. I have added a lightweight route recongizer library (in the html) to help render the correct view.
The main page has a list of the top 10 most recent observations, each with a link to that observation's details.
It also features a leaderboard of the top 11 users with the most observations, each with a link to that user's
details. The users page has a list of users with thier corresponding avatars and links to their user detail views.
The user detail view contains a list of all their observations, with a picture of their avatar and a link
to the image source. The observations page has a list of all details of all observations; 
each observation has a link to view the details of that observation in a seperate page.

The submit observation page contains fields and option lists, and a submit button to send the form.
When a user submits a form without any errors or missing fields, they are redirected to their user details
page. Their new observation will be visible at the top of the table. Otherwise, if the user enters invalid input 
a list of error messages will appear, and the user will not be redirected until they enter valid input. 

The opaque green background is supposed to complement the mostly green rainforest background.
The links transition to brown on mouse hover, to resemble wood. I have attempted to make the text readable,
although accessibility is not mentioned in the specifications. I have used some of my css code from the Web Design assignment. 
That code in my Web Design assignment however, is all my own original code. 

I have put TODOs in the comments in index.html (top of templates), and in style.css. They describe what 
I would have done if I had more time. These improvements could be passed on to a new developer. 

##  